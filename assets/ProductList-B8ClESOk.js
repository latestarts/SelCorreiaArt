import{g as J,m as ee,a0 as te,a1 as oe,r as ne,a2 as re,a3 as se,a4 as ie,b as l,C as ae,c as k,a5 as le,l as ce,a6 as de,Y as L,a7 as pe,d as ue,a8 as ge,Q as me,f as fe,h as he,j as s,$ as xe,Z as ye,R as T,a9 as Ce}from"./index-BDguRX0F.js";import{p as E}from"./products-DIHMu6yj.js";import{a as ve}from"./whatsapp-axMoqN_C.js";import{C as M}from"./index-B-ScJKkS.js";import{T as be,P as je}from"./index-BOZW2wsI.js";import{B as j}from"./button-CwrcbwvI.js";import{R as we,C as Pe}from"./row-U2Kgc5Wg.js";const N=e=>e?typeof e=="function"?e():e:null,Se=e=>{const{componentCls:t,popoverColor:o,titleMinWidth:n,fontWeightStrong:r,innerPadding:c,boxShadowSecondary:u,colorTextHeading:g,borderRadiusLG:m,zIndexPopup:f,titleMarginBottom:d,colorBgElevated:C,popoverBg:p,titleBorderBottom:h,innerContentPadding:v,titlePadding:a}=e;return[{[t]:Object.assign(Object.assign({},ne(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:f,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":C,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{backgroundColor:p,backgroundClip:"padding-box",borderRadius:m,boxShadow:u,padding:c},[`${t}-title`]:{minWidth:n,marginBottom:d,color:g,fontWeight:r,borderBottom:h,padding:a},[`${t}-inner-content`]:{color:o,padding:v}})},oe(e,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${t}-content`]:{display:"inline-block"}}}]},ke=e=>{const{componentCls:t}=e;return{[t]:re.map(o=>{const n=e[`${o}6`];return{[`&${t}-${o}`]:{"--antd-arrow-background-color":n,[`${t}-inner`]:{backgroundColor:n},[`${t}-arrow`]:{background:"transparent"}}}})}},Ne=e=>{const{lineWidth:t,controlHeight:o,fontHeight:n,padding:r,wireframe:c,zIndexPopupBase:u,borderRadiusLG:g,marginXS:m,lineType:f,colorSplit:d,paddingSM:C}=e,p=o-n,h=p/2,v=p/2-t,a=r;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:u+30},se(e)),ie({contentRadius:g,limitVerticalRadius:!0})),{innerPadding:c?0:12,titleMarginBottom:c?0:m,titlePadding:c?`${h}px ${a}px ${v}px`:0,titleBorderBottom:c?`${t}px ${f} ${d}`:"none",innerContentPadding:c?`${C}px ${a}px`:0})},_=J("Popover",e=>{const{colorBgElevated:t,colorText:o}=e,n=ee(e,{popoverBg:t,popoverColor:o});return[Se(n),ke(n),te(n,"zoom-big")]},Ne,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var Oe=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]]);return o};const D=({title:e,content:t,prefixCls:o})=>!e&&!t?null:l.createElement(l.Fragment,null,e&&l.createElement("div",{className:`${o}-title`},e),t&&l.createElement("div",{className:`${o}-inner-content`},t)),$e=e=>{const{hashId:t,prefixCls:o,className:n,style:r,placement:c="top",title:u,content:g,children:m}=e,f=N(u),d=N(g),C=k(t,o,`${o}-pure`,`${o}-placement-${c}`,n);return l.createElement("div",{className:C,style:r},l.createElement("div",{className:`${o}-arrow`}),l.createElement(le,Object.assign({},e,{className:t,prefixCls:o}),m||l.createElement(D,{prefixCls:o,title:f,content:d})))},Ee=e=>{const{prefixCls:t,className:o}=e,n=Oe(e,["prefixCls","className"]),{getPrefixCls:r}=l.useContext(ae),c=r("popover",t),[u,g,m]=_(c);return u(l.createElement($e,Object.assign({},n,{prefixCls:c,hashId:g,className:k(o,m)})))};var Be=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]]);return o};const We=l.forwardRef((e,t)=>{var o,n;const{prefixCls:r,title:c,content:u,overlayClassName:g,placement:m="top",trigger:f="hover",children:d,mouseEnterDelay:C=.1,mouseLeaveDelay:p=.1,onOpenChange:h,overlayStyle:v={},styles:a,classNames:x}=e,i=Be(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:y,className:w,style:F,classNames:W,styles:A}=ce("popover"),O=y("popover",r),[q,H,U]=_(O),V=y(),Q=k(g,H,U,w,W.root,x?.root),Y=k(W.body,x?.body),[K,G]=de(!1,{value:(o=e.open)!==null&&o!==void 0?o:e.visible,defaultValue:(n=e.defaultOpen)!==null&&n!==void 0?n:e.defaultVisible}),I=(b,P)=>{G(b,!0),h?.(b,P)},Z=b=>{b.keyCode===ge.ESC&&I(!1,b)},X=b=>{I(b)},z=N(c),R=N(u);return q(l.createElement(L,Object.assign({placement:m,trigger:f,mouseEnterDelay:C,mouseLeaveDelay:p},i,{prefixCls:O,classNames:{root:Q,body:Y},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},A.root),F),v),a?.root),body:Object.assign(Object.assign({},A.body),a?.body)},ref:t,open:K,onOpenChange:X,overlay:z||R?l.createElement(D,{prefixCls:O,title:z,content:R}):null,transitionName:pe(V,"zoom-big",i.transitionName),"data-popover-inject":!0}),ue(d,{onKeyDown:b=>{var P,$;l.isValidElement(d)&&(($=d==null?void 0:(P=d.props).onKeyDown)===null||$===void 0||$.call(P,b)),Z(b)}})))}),S=We;S._InternalPanelDoNotUseOrYouWillBeFired=Ee;const{Meta:Ae}=M,{Text:B}=be,Ie=e=>Number(e.replace(/[^0-9.-]+/g,"")),ze=({product:e})=>{const t=me(),o=fe(),r=he(p=>p.cart.items.find(h=>h.id===e.id))?.quantity??0,c=()=>{o(`/product/${e.id}`)},u=p=>{p.stopPropagation(),t(xe(e))},g=p=>{p.stopPropagation(),t(T({id:e.id,quantity:r+1}))},m=p=>{p.stopPropagation(),t(r===1?ye(e.id):T({id:e.id,quantity:r-1}))},f=p=>{p.stopPropagation();const h=ve(e,r);window.open(h,"_blank")},d=Ie(e.price),C=e.discount?(d*(1-e.discount/100)).toFixed(2):null;return s.jsxs(M,{hoverable:!0,style:{width:"100%",borderRadius:10},bodyStyle:{padding:0},children:[s.jsxs("div",{onClick:c,style:{cursor:"pointer"},children:[s.jsx("img",{alt:e.name,src:e.image,className:"img-fluid rounded-top",style:{height:200,objectFit:"cover",width:"100%"}}),s.jsx("div",{style:{padding:"16px"},children:s.jsx(Ae,{title:e.name,description:e.discount?s.jsxs("span",{children:[s.jsx(B,{delete:!0,style:{marginRight:8},children:e.price}),s.jsxs(B,{strong:!0,style:{color:"red"},children:["$",C]})]}):s.jsx(B,{strong:!0,children:e.price})})})]}),s.jsxs("div",{style:{padding:"12px 16px",borderTop:"1px solid #f0f0f0",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.5rem",flexWrap:"wrap"},onClick:p=>p.stopPropagation(),children:[r===0?s.jsx(j,{type:"primary",block:!0,onClick:u,style:{flex:1},children:"Add to Cart"}):s.jsxs(s.Fragment,{children:[s.jsx(j,{onClick:m,children:"−"}),s.jsx("span",{style:{minWidth:24,textAlign:"center",display:"inline-block"},children:r}),s.jsx(j,{onClick:g,children:"+"})]}),s.jsx(j,{block:!0,onClick:f,style:{flex:1,marginLeft:"auto"},children:"Buy"})]})]})},Re={blue:"#007bff",white:"#ffffff",pink:"#ff69b4",purple:"#800080",black:"#000000",green:"#28a745",gold:"#ffd700",silver:"#c0c0c0",red:"#dc3545",orange:"#fd7e14",turquoise:"#40e0d0",brown:"#8b4513",clear:"transparent",multi:"#999999","multi-color":"#999999"},Te=e=>{const t=e.trim().toLowerCase();return t==="multi"||t==="multi-color"?"repeating-conic-gradient(#999 0% 25%, #ccc 25% 50%)":Re[t]||t},Le=e=>{const t=e.trim().toLowerCase();return t==="white"||t==="clear"||t==="silver"},Me=({categories:e,colors:t,priceRanges:o,selectedCategory:n,selectedColor:r,selectedPrice:c,onCategoryChange:u,onColorChange:g,onPriceChange:m,onClearAll:f})=>{const[d,C]=l.useState(window.innerWidth<576);l.useEffect(()=>{const a=()=>C(window.innerWidth<576);return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);const p=n!==null||r!==null||c!==null,h=(a,x,i)=>s.jsxs("div",{style:{maxHeight:200,overflowY:"auto",minWidth:150},children:[s.jsx("div",{onClick:()=>i(null),style:{padding:"6px 12px",cursor:"pointer",fontWeight:x?"normal":"bold"},children:"All"},"all"),a.map(y=>s.jsx("div",{onClick:()=>i(y),style:{padding:"6px 12px",cursor:"pointer",fontWeight:x===y?"bold":"normal",backgroundColor:x===y?"#e6f7ff":void 0},children:y},y))]}),v=()=>s.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8,maxWidth:200,maxHeight:200,overflowY:"auto"},children:[s.jsx("div",{onClick:()=>g(null),style:{position:"relative",width:24,height:24,borderRadius:"50%",border:r?"1px solid #ccc":"2px solid #1890ff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,userSelect:"none"},title:"All Colors",children:"×"}),t.map(a=>{const x=Te(a),i=r===a;return s.jsx(L,{title:a,children:s.jsx("div",{onClick:()=>{g(i?null:a)},style:{position:"relative",width:24,height:24,borderRadius:"50%",background:a.toLowerCase().includes("multi")?x:void 0,backgroundColor:a.toLowerCase().includes("multi")?void 0:x,border:i?"2px solid #1890ff":Le(a)?"1px solid #999":"1px solid transparent",cursor:"pointer"},children:i&&s.jsx("div",{onClick:y=>{y.stopPropagation(),g(null)},style:{position:"absolute",top:-6,right:-6,background:"#1890ff",color:"white",borderRadius:"50%",width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,fontWeight:"bold",cursor:"pointer",boxShadow:"0 0 4px rgba(0,0,0,0.3)"},title:"Clear this color",children:"×"})})},a)})]});return s.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"8px 0",alignItems:"center",gap:16,flexWrap:d?"wrap":"nowrap",width:"100%"},children:s.jsxs("div",{style:{display:"flex",gap:16,alignItems:"center",flexWrap:d?"wrap":"nowrap",justifyContent:"center"},children:[s.jsx(S,{content:h(e,n,u),trigger:"click",placement:"bottom",children:s.jsxs(j,{type:"default",children:["Category: ",n??"All"]})}),s.jsx(S,{content:v(),trigger:"click",placement:"bottom",children:s.jsxs(j,{type:"default",children:["Color: ",r??"All"]})}),s.jsx(S,{content:h(o,c,m),trigger:"click",placement:"bottom",children:s.jsxs(j,{type:"default",children:["Price: ",c??"All"]})}),p&&s.jsx(j,{type:"link",danger:!0,onClick:f,children:"Clear All Filters"})]})})},_e=["Under $15","$15 - $20","$20 - $25","Above $25"],De=e=>Number(e.replace(/[^0-9.-]+/g,"")),Fe=e=>{const t=new Set;return e.forEach(o=>{o.category&&t.add(o.category)}),Array.from(t).sort()},qe=e=>{const t=new Set;return e.forEach(o=>{o.color&&o.color.split(",").forEach(n=>{const r=n.trim().toLowerCase();r==="multi"||r==="multi-color"?t.add("Multi-color"):r&&t.add(r.charAt(0).toUpperCase()+r.slice(1))})}),Array.from(t).sort()},He=(e,t)=>{switch(t){case"Under $15":return e<15;case"$15 - $20":return e>=15&&e<=20;case"$20 - $25":return e>20&&e<=25;case"Above $25":return e>25;default:return!0}},Xe=()=>{const[e,t]=Ce(),[o,n]=l.useState(()=>e.get("category")),[r,c]=l.useState(()=>e.get("color")),[u,g]=l.useState(()=>e.get("price")),[m,f]=l.useState(()=>{const i=e.get("page");return i?parseInt(i,10):1}),[d,C]=l.useState(()=>{const i=e.get("pageSize");return i?parseInt(i,10):12}),p=l.useMemo(()=>Fe(E),[]),h=l.useMemo(()=>qe(E),[]);l.useEffect(()=>{const i={};o&&(i.category=o),r&&(i.color=r),u&&(i.price=u),m!==1&&(i.page=m.toString()),d!==12&&(i.pageSize=d.toString()),t(i)},[o,r,u,m,d,t]);const v=l.useMemo(()=>E.filter(i=>{if(o&&i.category!==o||r&&!(i.color?i.color.toLowerCase().split(",").map(w=>w.trim()):[]).some(w=>w===r.toLowerCase()||r.toLowerCase()==="multi-color"&&(w==="multi"||w==="multi-color")))return!1;if(u){const y=De(i.price);if(!He(y,u))return!1}return!0}),[o,r,u]),a=(m-1)*d,x=v.slice(a,a+d);return s.jsxs("div",{className:"container",children:[s.jsx("h2",{className:"text-center mb-4",children:"Featured Products"}),s.jsx(Me,{categories:p,colors:h,priceRanges:_e,selectedCategory:o,selectedColor:r,selectedPrice:u,onCategoryChange:i=>{n(i),f(1)},onColorChange:i=>{c(i),f(1)},onPriceChange:i=>{g(i),f(1)},onClearAll:()=>{n(null),c(null),g(null),f(1)}}),s.jsx(we,{gutter:[24,24],justify:"center",className:"mt-3",children:x.length===0?s.jsx("p",{children:"No products found for selected filters."}):x.map(i=>s.jsx(Pe,{xs:24,sm:12,md:8,lg:8,xl:6,className:"d-flex justify-content-center",children:s.jsx(ze,{product:i})},i.id))}),s.jsx("div",{className:"d-flex justify-content-center mt-4",children:s.jsx(je,{current:m,pageSize:d,total:v.length,onChange:(i,y)=>{f(i),y&&C(y)},showSizeChanger:!0,pageSizeOptions:["8","12","16","24"]})})]})};export{Xe as default};
