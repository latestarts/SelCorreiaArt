import{g as J,m as ee,a0 as te,a1 as oe,r as ne,a2 as re,a3 as se,a4 as ie,b as l,C as ae,c as $,a5 as le,l as ce,a6 as de,Y as L,a7 as pe,d as ue,a8 as ge,Q as me,f as fe,h as he,j as s,$ as xe,Z as ye,R as T,a9 as Ce}from"./index-BrEWydfD.js";import{p as E}from"./products-DIHMu6yj.js";import{C as M}from"./index-CgzkSzYS.js";import{T as be,P as ve}from"./index-S8qYjGg2.js";import{B as w}from"./button-H-mWHg9B.js";import{R as we,C as je}from"./row-Bdjqdpxo.js";const k=e=>e?typeof e=="function"?e():e:null,Pe=e=>{const{componentCls:t,popoverColor:o,titleMinWidth:n,fontWeightStrong:r,innerPadding:c,boxShadowSecondary:u,colorTextHeading:g,borderRadiusLG:m,zIndexPopup:f,titleMarginBottom:d,colorBgElevated:C,popoverBg:p,titleBorderBottom:h,innerContentPadding:b,titlePadding:a}=e;return[{[t]:Object.assign(Object.assign({},ne(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:f,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":C,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{backgroundColor:p,backgroundClip:"padding-box",borderRadius:m,boxShadow:u,padding:c},[`${t}-title`]:{minWidth:n,marginBottom:d,color:g,fontWeight:r,borderBottom:h,padding:a},[`${t}-inner-content`]:{color:o,padding:b}})},oe(e,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${t}-content`]:{display:"inline-block"}}}]},Se=e=>{const{componentCls:t}=e;return{[t]:re.map(o=>{const n=e[`${o}6`];return{[`&${t}-${o}`]:{"--antd-arrow-background-color":n,[`${t}-inner`]:{backgroundColor:n},[`${t}-arrow`]:{background:"transparent"}}}})}},$e=e=>{const{lineWidth:t,controlHeight:o,fontHeight:n,padding:r,wireframe:c,zIndexPopupBase:u,borderRadiusLG:g,marginXS:m,lineType:f,colorSplit:d,paddingSM:C}=e,p=o-n,h=p/2,b=p/2-t,a=r;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:u+30},se(e)),ie({contentRadius:g,limitVerticalRadius:!0})),{innerPadding:c?0:12,titleMarginBottom:c?0:m,titlePadding:c?`${h}px ${a}px ${b}px`:0,titleBorderBottom:c?`${t}px ${f} ${d}`:"none",innerContentPadding:c?`${C}px ${a}px`:0})},_=J("Popover",e=>{const{colorBgElevated:t,colorText:o}=e,n=ee(e,{popoverBg:t,popoverColor:o});return[Pe(n),Se(n),te(n,"zoom-big")]},$e,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var ke=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]]);return o};const D=({title:e,content:t,prefixCls:o})=>!e&&!t?null:l.createElement(l.Fragment,null,e&&l.createElement("div",{className:`${o}-title`},e),t&&l.createElement("div",{className:`${o}-inner-content`},t)),Oe=e=>{const{hashId:t,prefixCls:o,className:n,style:r,placement:c="top",title:u,content:g,children:m}=e,f=k(u),d=k(g),C=$(t,o,`${o}-pure`,`${o}-placement-${c}`,n);return l.createElement("div",{className:C,style:r},l.createElement("div",{className:`${o}-arrow`}),l.createElement(le,Object.assign({},e,{className:t,prefixCls:o}),m||l.createElement(D,{prefixCls:o,title:f,content:d})))},Ne=e=>{const{prefixCls:t,className:o}=e,n=ke(e,["prefixCls","className"]),{getPrefixCls:r}=l.useContext(ae),c=r("popover",t),[u,g,m]=_(c);return u(l.createElement(Oe,Object.assign({},n,{prefixCls:c,hashId:g,className:$(o,m)})))};var Ee=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]]);return o};const Ie=l.forwardRef((e,t)=>{var o,n;const{prefixCls:r,title:c,content:u,overlayClassName:g,placement:m="top",trigger:f="hover",children:d,mouseEnterDelay:C=.1,mouseLeaveDelay:p=.1,onOpenChange:h,overlayStyle:b={},styles:a,classNames:x}=e,i=Ee(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:y,className:j,style:F,classNames:B,styles:W}=ce("popover"),O=y("popover",r),[q,U,H]=_(O),V=y(),Q=$(g,U,H,j,B.root,x?.root),Y=$(B.body,x?.body),[K,G]=de(!1,{value:(o=e.open)!==null&&o!==void 0?o:e.visible,defaultValue:(n=e.defaultOpen)!==null&&n!==void 0?n:e.defaultVisible}),A=(v,P)=>{G(v,!0),h?.(v,P)},Z=v=>{v.keyCode===ge.ESC&&A(!1,v)},X=v=>{A(v)},z=k(c),R=k(u);return q(l.createElement(L,Object.assign({placement:m,trigger:f,mouseEnterDelay:C,mouseLeaveDelay:p},i,{prefixCls:O,classNames:{root:Q,body:Y},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},W.root),F),b),a?.root),body:Object.assign(Object.assign({},W.body),a?.body)},ref:t,open:K,onOpenChange:X,overlay:z||R?l.createElement(D,{prefixCls:O,title:z,content:R}):null,transitionName:pe(V,"zoom-big",i.transitionName),"data-popover-inject":!0}),ue(d,{onKeyDown:v=>{var P,N;l.isValidElement(d)&&((N=d==null?void 0:(P=d.props).onKeyDown)===null||N===void 0||N.call(P,v)),Z(v)}})))}),S=Ie;S._InternalPanelDoNotUseOrYouWillBeFired=Ne;const{Meta:Be}=M,{Text:I}=be,We=e=>Number(e.replace(/[^0-9.-]+/g,"")),Ae=({product:e})=>{const t=me(),o=fe(),r=he(p=>p.cart.items.find(h=>h.id===e.id))?.quantity??0,c=()=>{o(`/product/${e.id}`)},u=p=>{p.stopPropagation(),t(xe(e))},g=p=>{p.stopPropagation(),t(T({id:e.id,quantity:r+1}))},m=p=>{p.stopPropagation(),t(r===1?ye(e.id):T({id:e.id,quantity:r-1}))},f=p=>{p.stopPropagation();const h=`${window.location.origin}/product/${e.id}`,b=`https://wa.me/+15197029537?text=${encodeURIComponent(`Hi, I'm interested in buying: ${e.name} (Quantity: ${r||1})
Link: ${h}`)}`;window.open(b,"_blank")},d=We(e.price),C=e.discount?(d*(1-e.discount/100)).toFixed(2):null;return s.jsxs(M,{hoverable:!0,style:{width:"100%",borderRadius:10},bodyStyle:{padding:0},children:[s.jsxs("div",{onClick:c,style:{cursor:"pointer"},children:[s.jsx("img",{alt:e.name,src:e.image,className:"img-fluid rounded-top",style:{height:200,objectFit:"cover",width:"100%"}}),s.jsx("div",{style:{padding:"16px"},children:s.jsx(Be,{title:e.name,description:e.discount?s.jsxs("span",{children:[s.jsx(I,{delete:!0,style:{marginRight:8},children:e.price}),s.jsxs(I,{strong:!0,style:{color:"red"},children:["$",C]})]}):s.jsx(I,{strong:!0,children:e.price})})})]}),s.jsxs("div",{style:{padding:"12px 16px",borderTop:"1px solid #f0f0f0",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.5rem",flexWrap:"wrap"},onClick:p=>p.stopPropagation(),children:[r===0?s.jsx(w,{type:"primary",block:!0,onClick:u,style:{flex:1},children:"Add to Cart"}):s.jsxs(s.Fragment,{children:[s.jsx(w,{onClick:m,children:"−"}),s.jsx("span",{style:{minWidth:24,textAlign:"center",display:"inline-block"},children:r}),s.jsx(w,{onClick:g,children:"+"})]}),s.jsx(w,{block:!0,onClick:f,style:{flex:1,marginLeft:"auto"},children:"Buy"})]})]})},ze={blue:"#007bff",white:"#ffffff",pink:"#ff69b4",purple:"#800080",black:"#000000",green:"#28a745",gold:"#ffd700",silver:"#c0c0c0",red:"#dc3545",orange:"#fd7e14",turquoise:"#40e0d0",brown:"#8b4513",clear:"transparent",multi:"#999999","multi-color":"#999999"},Re=e=>{const t=e.trim().toLowerCase();return t==="multi"||t==="multi-color"?"repeating-conic-gradient(#999 0% 25%, #ccc 25% 50%)":ze[t]||t},Te=e=>{const t=e.trim().toLowerCase();return t==="white"||t==="clear"||t==="silver"},Le=({categories:e,colors:t,priceRanges:o,selectedCategory:n,selectedColor:r,selectedPrice:c,onCategoryChange:u,onColorChange:g,onPriceChange:m,onClearAll:f})=>{const[d,C]=l.useState(window.innerWidth<576);l.useEffect(()=>{const a=()=>C(window.innerWidth<576);return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);const p=n!==null||r!==null||c!==null,h=(a,x,i)=>s.jsxs("div",{style:{maxHeight:200,overflowY:"auto",minWidth:150},children:[s.jsx("div",{onClick:()=>i(null),style:{padding:"6px 12px",cursor:"pointer",fontWeight:x?"normal":"bold"},children:"All"},"all"),a.map(y=>s.jsx("div",{onClick:()=>i(y),style:{padding:"6px 12px",cursor:"pointer",fontWeight:x===y?"bold":"normal",backgroundColor:x===y?"#e6f7ff":void 0},children:y},y))]}),b=()=>s.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8,maxWidth:200,maxHeight:200,overflowY:"auto"},children:[s.jsx("div",{onClick:()=>g(null),style:{position:"relative",width:24,height:24,borderRadius:"50%",border:r?"1px solid #ccc":"2px solid #1890ff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,userSelect:"none"},title:"All Colors",children:"×"}),t.map(a=>{const x=Re(a),i=r===a;return s.jsx(L,{title:a,children:s.jsx("div",{onClick:()=>{g(i?null:a)},style:{position:"relative",width:24,height:24,borderRadius:"50%",background:a.toLowerCase().includes("multi")?x:void 0,backgroundColor:a.toLowerCase().includes("multi")?void 0:x,border:i?"2px solid #1890ff":Te(a)?"1px solid #999":"1px solid transparent",cursor:"pointer"},children:i&&s.jsx("div",{onClick:y=>{y.stopPropagation(),g(null)},style:{position:"absolute",top:-6,right:-6,background:"#1890ff",color:"white",borderRadius:"50%",width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,fontWeight:"bold",cursor:"pointer",boxShadow:"0 0 4px rgba(0,0,0,0.3)"},title:"Clear this color",children:"×"})})},a)})]});return s.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"8px 0",alignItems:"center",gap:16,flexWrap:d?"wrap":"nowrap",width:"100%"},children:s.jsxs("div",{style:{display:"flex",gap:16,alignItems:"center",flexWrap:d?"wrap":"nowrap",justifyContent:"center"},children:[s.jsx(S,{content:h(e,n,u),trigger:"click",placement:"bottom",children:s.jsxs(w,{type:"default",children:["Category: ",n??"All"]})}),s.jsx(S,{content:b(),trigger:"click",placement:"bottom",children:s.jsxs(w,{type:"default",children:["Color: ",r??"All"]})}),s.jsx(S,{content:h(o,c,m),trigger:"click",placement:"bottom",children:s.jsxs(w,{type:"default",children:["Price: ",c??"All"]})}),p&&s.jsx(w,{type:"link",danger:!0,onClick:f,children:"Clear All Filters"})]})})},Me=["Under $15","$15 - $20","$20 - $25","Above $25"],_e=e=>Number(e.replace(/[^0-9.-]+/g,"")),De=e=>{const t=new Set;return e.forEach(o=>{o.category&&t.add(o.category)}),Array.from(t).sort()},Fe=e=>{const t=new Set;return e.forEach(o=>{o.color&&o.color.split(",").forEach(n=>{const r=n.trim().toLowerCase();r==="multi"||r==="multi-color"?t.add("Multi-color"):r&&t.add(r.charAt(0).toUpperCase()+r.slice(1))})}),Array.from(t).sort()},qe=(e,t)=>{switch(t){case"Under $15":return e<15;case"$15 - $20":return e>=15&&e<=20;case"$20 - $25":return e>20&&e<=25;case"Above $25":return e>25;default:return!0}},Ge=()=>{const[e,t]=Ce(),[o,n]=l.useState(()=>e.get("category")),[r,c]=l.useState(()=>e.get("color")),[u,g]=l.useState(()=>e.get("price")),[m,f]=l.useState(()=>{const i=e.get("page");return i?parseInt(i,10):1}),[d,C]=l.useState(()=>{const i=e.get("pageSize");return i?parseInt(i,10):12}),p=l.useMemo(()=>De(E),[]),h=l.useMemo(()=>Fe(E),[]);l.useEffect(()=>{const i={};o&&(i.category=o),r&&(i.color=r),u&&(i.price=u),m!==1&&(i.page=m.toString()),d!==12&&(i.pageSize=d.toString()),t(i)},[o,r,u,m,d,t]);const b=l.useMemo(()=>E.filter(i=>{if(o&&i.category!==o||r&&!(i.color?i.color.toLowerCase().split(",").map(j=>j.trim()):[]).some(j=>j===r.toLowerCase()||r.toLowerCase()==="multi-color"&&(j==="multi"||j==="multi-color")))return!1;if(u){const y=_e(i.price);if(!qe(y,u))return!1}return!0}),[o,r,u]),a=(m-1)*d,x=b.slice(a,a+d);return s.jsxs("div",{className:"container",children:[s.jsx("h2",{className:"text-center mb-4",children:"Featured Products"}),s.jsx(Le,{categories:p,colors:h,priceRanges:Me,selectedCategory:o,selectedColor:r,selectedPrice:u,onCategoryChange:i=>{n(i),f(1)},onColorChange:i=>{c(i),f(1)},onPriceChange:i=>{g(i),f(1)},onClearAll:()=>{n(null),c(null),g(null),f(1)}}),s.jsx(we,{gutter:[24,24],justify:"center",className:"mt-3",children:x.length===0?s.jsx("p",{children:"No products found for selected filters."}):x.map(i=>s.jsx(je,{xs:24,sm:12,md:8,lg:8,xl:6,className:"d-flex justify-content-center",children:s.jsx(Ae,{product:i})},i.id))}),s.jsx("div",{className:"d-flex justify-content-center mt-4",children:s.jsx(ve,{current:m,pageSize:d,total:b.length,onChange:(i,y)=>{f(i),y&&C(y)},showSizeChanger:!0,pageSizeOptions:["8","12","16","24"]})})]})};export{Ge as default};
